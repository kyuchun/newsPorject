# ğŸ“° ë‰´ìŠ¤ ê°ì„± ë¶„ì„ & ìš”ì•½

NewsAPIë¡œ ìµœì‹  ë‰´ìŠ¤ë¥¼ ê°€ì ¸ì™€ **ê°ì„± ë¶„ì„(Positive/Neutral/Negative)** ê³¼ **ë³¸ë¬¸ ìš”ì•½**ì„ ìˆ˜í–‰í•˜ëŠ” ì›¹ ì• í”Œë¦¬ì¼€ì´ì…˜ì…ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ ëª©í‘œ

ë‰´ìŠ¤ ê¸°ì‚¬ì˜ ê°ì„±ì„ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ì—¬ **íŠ¹ì • í‚¤ì›Œë“œì— ëŒ€í•œ ë¯¸ë””ì–´ ë¶„ìœ„ê¸°ë¥¼ í•œëˆˆì— íŒŒì•…**í•  ìˆ˜ ìˆëŠ” ë„êµ¬ë¥¼ ì œê³µí•©ë‹ˆë‹¤. ë¬´ë£Œ ì˜¤í”ˆì†ŒìŠ¤ ë¼ì´ë¸ŒëŸ¬ë¦¬ë§Œìœ¼ë¡œ êµ¬í˜„í•˜ì—¬ ëˆ„êµ¬ë‚˜ ë¹„ìš© ë¶€ë‹´ ì—†ì´ í™œìš©í•  ìˆ˜ ìˆìŠµë‹ˆë‹¤.

## ì™œ í•„ìš”í•œê°€?

ë§¤ì¼ ìŸì•„ì§€ëŠ” ìˆ˜ë§ì€ ë‰´ìŠ¤ë¥¼ ì¼ì¼ì´ ì½ê³  ë¶„ìœ„ê¸°ë¥¼ íŒë‹¨í•˜ëŠ” ê²ƒì€ ë¹„íš¨ìœ¨ì ì…ë‹ˆë‹¤. ë‰´ìŠ¤ ê°ì„± ë¶„í¬ë¥¼ ìë™ìœ¼ë¡œ ë¶„ì„í•˜ë©´ ë‹¤ìŒê³¼ ê°™ì€ ì¸ì‚¬ì´íŠ¸ë¥¼ ì–»ì„ ìˆ˜ ìˆìŠµë‹ˆë‹¤.

| í™œìš© ì˜ì—­ | ê°ì„± ë¶„í¬ë¡œ ì•Œ ìˆ˜ ìˆëŠ” ê²ƒ |
|-----------|--------------------------|
| **ì—¬ë¡  ë™í–¥ íŒŒì•…** | íŠ¹ì • í‚¤ì›Œë“œ(ê¸°ì—…ëª…, ì •ì±…, ì´ìŠˆ)ì— ëŒ€í•œ ë¯¸ë””ì–´ ë¶„ìœ„ê¸°ë¥¼ ê¸ì •/ë¶€ì • ë¹„ìœ¨ë¡œ ìˆ˜ì¹˜í™” |
| **ì‹œê³„ì—´ ë³€í™” ê°ì§€** | ê°™ì€ í‚¤ì›Œë“œë¥¼ ë°˜ë³µ ê²€ìƒ‰í•˜ì—¬ ì‹œê°„ì— ë”°ë¥¸ ê°ì„± ë³€í™”ë¥¼ ì¶”ì  (ì˜ˆ: ì‹ ì œí’ˆ ì¶œì‹œ ì „í›„ ë¹„êµ) |
| **ë¦¬ìŠ¤í¬ ì¡°ê¸° ê²½ë³´** | ë¶€ì • ë¹„ìœ¨ì´ ê¸‰ì¦í•˜ë©´ ìŠ¤ìº”ë“¤, ì‹¤ì  ì•…í™” ë“± ìœ„ê¸° ì§•í›„ë¥¼ ì¡°ê¸°ì— í¬ì°© |
| **ê²½ìŸì‚¬ ë¹„êµ** | í‚¤ì›Œë“œë³„ ê°ì„± ë¹„ìœ¨ì„ ë¹„êµí•˜ì—¬ ë¸Œëœë“œ ì´ë¯¸ì§€ ì°¨ì´ë¥¼ ê°ê´€ì ìœ¼ë¡œ íŒŒì•… |
| **íˆ¬ì ì°¸ê³  ì§€í‘œ** | ë‰´ìŠ¤ ê°ì„±ê³¼ ì£¼ê°€ ì›€ì§ì„ ì‚¬ì´ì˜ ìƒê´€ê´€ê³„ë¥¼ ë³´ì¡° ì§€í‘œë¡œ í™œìš© |
| **í•µì‹¬ ê¸°ì‚¬ ì‹ë³„** | ê¸°ì‚¬ë³„ ê°ì„± ì ìˆ˜ ì°¨íŠ¸ë¡œ ê°€ì¥ ê¸ì •/ë¶€ì •ì¸ ê¸°ì‚¬ë¥¼ ë¹ ë¥´ê²Œ ì°¾ì•„ ì›ë¬¸ í™•ì¸ |

> ğŸ’¡ TextBlob + ê°ì„± ì‚¬ì „ ê¸°ë°˜ì´ë¯€ë¡œ í’ì, ë°˜ì–´ë²• ë“± ë§¥ë½ ì˜ì¡´ì  í‘œí˜„ì€ ì •í™•ë„ê°€ ë–¨ì–´ì§ˆ ìˆ˜ ìˆìŠµë‹ˆë‹¤. ì ˆëŒ€ì  íŒë‹¨ì´ ì•„ë‹Œ **ì¶”ì„¸ íŒŒì•…ì„ ìœ„í•œ ì°¸ê³  ì§€í‘œ**ë¡œ í™œìš©í•˜ëŠ” ê²ƒì´ ì ì ˆí•©ë‹ˆë‹¤.

## í”„ë¡œì íŠ¸ ê°œìš”

| í•­ëª© | ë‚´ìš© |
|------|------|
| **ë°±ì—”ë“œ** | FastAPI (Python) |
| **í”„ë¡ íŠ¸ì—”ë“œ** | Streamlit |
| **ê°ì„± ë¶„ì„** | TextBlob + í•œêµ­ì–´ ê°ì„± ì‚¬ì „(100ë‹¨ì–´) + Google ë²ˆì—­ í´ë°± |
| **í…ìŠ¤íŠ¸ ìš”ì•½** | sumy (LSA Summarizer) |
| **ë‰´ìŠ¤ ì†ŒìŠ¤** | NewsAPI (https://newsapi.org) |
| **ì‹œê°í™”** | Plotly (íŒŒì´ ì°¨íŠ¸, ë°” ì°¨íŠ¸) |

### ì•„í‚¤í…ì²˜

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       HTTP        â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”       HTTPS       â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚  Streamlit (8501)   â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  FastAPI (8000)      â”‚ â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â–¶  â”‚  NewsAPI   â”‚
â”‚  - ê²€ìƒ‰ UI          â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚  - ê°ì„± ë¶„ì„         â”‚ â—€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€  â”‚            â”‚
â”‚  - ì°¨íŠ¸ ì‹œê°í™”       â”‚    JSON ì‘ë‹µ      â”‚  - í…ìŠ¤íŠ¸ ìš”ì•½       â”‚   JSON ì‘ë‹µ        â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚  - CSV ë‹¤ìš´ë¡œë“œ      â”‚                   â”‚  - ë‰´ìŠ¤ í”„ë¡ì‹œ       â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜                   â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

---

## ì‹¤í–‰ ë°©ë²•

### 1. ì‚¬ì „ ì¤€ë¹„

- **Python 3.10+** ì„¤ì¹˜
- **NewsAPI í‚¤** ë°œê¸‰: https://newsapi.org/register (ë¬´ë£Œ)

### 2. íŒ¨í‚¤ì§€ ì„¤ì¹˜

```bash
pip install -r requirements.txt
```

### 3. ë°±ì—”ë“œ ì„œë²„ ì‹¤í–‰

```bash
uvicorn api:app --reload --host 127.0.0.1 --port 8000
```

ì‹¤í–‰ í›„ http://127.0.0.1:8000/docs ì—ì„œ Swagger UI í™•ì¸ ê°€ëŠ¥

### 4. í”„ë¡ íŠ¸ì—”ë“œ ì‹¤í–‰

```bash
streamlit run app.py
```

ì‹¤í–‰ í›„ http://localhost:8501 ì—ì„œ ì›¹ UI ì ‘ì†

### 5. ì‚¬ìš©í•˜ê¸°

1. ì‚¬ì´ë“œë°”ì— **NewsAPI í‚¤** ì…ë ¥
2. ê²€ìƒ‰ í‚¤ì›Œë“œ, ì–¸ì–´, ê¸°ì‚¬ ìˆ˜ ì„¤ì •
3. **"ë‰´ìŠ¤ ê°€ì ¸ì˜¤ê¸°"** ë²„íŠ¼ í´ë¦­
4. ê°ì„± ë¶„í¬ ì°¨íŠ¸, ê¸°ì‚¬ë³„ ê°ì„± ì ìˆ˜, ìš”ì•½ ê²°ê³¼ í™•ì¸

---

## í•µì‹¬ ë¡œì§

### ê°ì„± ë¶„ì„ (`_analyze_sentiment`)

3ë‹¨ê³„ ì „ëµìœ¼ë¡œ ë‹¤êµ­ì–´ í…ìŠ¤íŠ¸ì˜ ê°ì„±ì„ ë¶„ì„í•©ë‹ˆë‹¤.

#### 1ë‹¨ê³„: í•œêµ­ì–´ ê°ì„± ì‚¬ì „

í•œêµ­ì–´ í…ìŠ¤íŠ¸ê°€ ê°ì§€ë˜ë©´ **KO_POSITIVE**(50ë‹¨ì–´) / **KO_NEGATIVE**(50ë‹¨ì–´) ì‚¬ì „ìœ¼ë¡œ ë¶€ë¶„ ë§¤ì¹­(substring) ê²€ì‚¬í•©ë‹ˆë‹¤.

```
"ê¸°ì¨"  â†’ KO_POSITIVEì— "ê¸°ì¨" í¬í•¨ â†’ ê¸ì • 1ê°œ ë§¤ì¹­ â†’ ì ìˆ˜ = +0.25
"ìŠ¬í”„ë‹¤" â†’ KO_NEGATIVEì— "ìŠ¬í”„" í¬í•¨ â†’ ë¶€ì • 1ê°œ ë§¤ì¹­ â†’ ì ìˆ˜ = -0.25
```

ì ìˆ˜ ê³µì‹: `(ê¸ì • ë§¤ì¹­ ìˆ˜ - ë¶€ì • ë§¤ì¹­ ìˆ˜) Ã— 0.25`, ë²”ìœ„ [-1.0, 1.0]

#### 2ë‹¨ê³„: ì˜ì–´ ë²ˆì—­ + TextBlob

í•œêµ­ì–´ í…ìŠ¤íŠ¸ëŠ” **deep-translator (Google ë²ˆì—­)** ìœ¼ë¡œ ì˜ì–´ ë²ˆì—­ í›„:
- **TextBlob**: ì˜ì–´ í…ìŠ¤íŠ¸ì˜ polarity ê³„ì‚° (-1.0 ~ 1.0)
- **EN í‚¤ì›Œë“œ ì‚¬ì „**: EN_POSITIVE/EN_NEGATIVE ë‹¨ì–´ ë§¤ì¹­ìœ¼ë¡œ ë³´ì • ì ìˆ˜ ê³„ì‚°

#### 3ë‹¨ê³„: ì¢…í•© ì ìˆ˜

| ì¼€ì´ìŠ¤ | ê°€ì¤‘ì¹˜ |
|--------|--------|
| í•œêµ­ì–´ + ë²ˆì—­ ì„±ê³µ | KO ì‚¬ì „ 40% + TextBlob 30% + EN í‚¤ì›Œë“œ 30% |
| í•œêµ­ì–´ + ë²ˆì—­ ì‹¤íŒ¨ | KO ì‚¬ì „ 100% |
| ì˜ì–´ í…ìŠ¤íŠ¸ | TextBlob 60% + EN í‚¤ì›Œë“œ 40% |

ìµœì¢… íŒì • ê¸°ì¤€:
- `> +0.03` â†’ **Positive ğŸ˜Š**
- `< -0.03` â†’ **Negative ğŸ˜Ÿ**
- ê·¸ ì™¸ â†’ **Neutral ğŸ˜**

### í…ìŠ¤íŠ¸ ìš”ì•½ (`_summarize_text`)

**sumy ë¼ì´ë¸ŒëŸ¬ë¦¬ì˜ LSA(Latent Semantic Analysis) Summarizer**ë¥¼ ì‚¬ìš©í•©ë‹ˆë‹¤.

1. `PlaintextParser`ë¡œ í…ìŠ¤íŠ¸ íŒŒì‹±
2. `Stemmer`ì™€ `stop_words`ë¡œ ì–¸ì–´ë³„ ì „ì²˜ë¦¬
3. LSA ì•Œê³ ë¦¬ì¦˜ìœ¼ë¡œ í•µì‹¬ ë¬¸ì¥ ì¶”ì¶œ (ìš”ì²­í•œ ë¬¸ì¥ ìˆ˜ë§Œí¼)

10ë‹¨ì–´ ë¯¸ë§Œì˜ ì§§ì€ í…ìŠ¤íŠ¸ëŠ” ìš”ì•½ ì—†ì´ ì›ë¬¸ ê·¸ëŒ€ë¡œ ë°˜í™˜í•©ë‹ˆë‹¤.

---

## API ëª…ì„¸

### `GET /health`

ì„œë²„ ìƒíƒœ í™•ì¸

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{ "status": "ok", "version": "1.4.0" }
```

---

### `GET /news`

ë‰´ìŠ¤ ê²€ìƒ‰ + ê°ì„± ë¶„ì„ + ìš”ì•½ì„ í•œ ë²ˆì— ìˆ˜í–‰

| íŒŒë¼ë¯¸í„° | íƒ€ì… | í•„ìˆ˜ | ì„¤ëª… |
|----------|------|------|------|
| `api_key` | string | âœ… | NewsAPI í‚¤ |
| `query` | string | - | ê²€ìƒ‰ í‚¤ì›Œë“œ (ê¸°ë³¸: "technology") |
| `language` | string | - | ì–¸ì–´ ì½”ë“œ: en, ko, ja, de, fr, es (ê¸°ë³¸: "en") |
| `page_size` | int | - | ê¸°ì‚¬ ìˆ˜ 1~20 (ê¸°ë³¸: 5) |
| `summary_sentences` | int | - | ìš”ì•½ ë¬¸ì¥ ìˆ˜ 1~10 (ê¸°ë³¸: 3) |

**ì‘ë‹µ ì˜ˆì‹œ:**
```json
{
  "total": 5,
  "sentiment_summary": {
    "Positive ğŸ˜Š": 2,
    "Neutral ğŸ˜": 2,
    "Negative ğŸ˜Ÿ": 1
  },
  "articles": [
    {
      "title": "ê¸°ì‚¬ ì œëª©",
      "description": "ì„¤ëª…",
      "content": "ë³¸ë¬¸",
      "url": "https://...",
      "source": "ì¶œì²˜",
      "published": "2026-02-24",
      "image_url": "https://...",
      "sentiment": {
        "label": "Positive ğŸ˜Š",
        "polarity": 0.145,
        "analyzed_text": "ë¶„ì„ëœ í…ìŠ¤íŠ¸",
        "method": "KOì‚¬ì „(0.25)+ë²ˆì—­TextBlob(0.00)+ENí‚¤ì›Œë“œ(0.15)"
      },
      "summary": "ìš”ì•½ í…ìŠ¤íŠ¸"
    }
  ]
}
```

---

### `POST /sentiment`

ë‹¨ì¼ í…ìŠ¤íŠ¸ ê°ì„± ë¶„ì„

**ìš”ì²­ Body:**
```json
{ "text": "ê¸°ì¨", "language": "auto" }
```

**ì‘ë‹µ:**
```json
{
  "label": "Positive ğŸ˜Š",
  "polarity": 0.145,
  "analyzed_text": "delight",
  "method": "KOì‚¬ì „(0.25)+ë²ˆì—­TextBlob(0.00)+ENí‚¤ì›Œë“œ(0.15)"
}
```

---

### `POST /summarize`

ë‹¨ì¼ í…ìŠ¤íŠ¸ ìš”ì•½

**ìš”ì²­ Body:**
```json
{ "text": "ê¸´ í…ìŠ¤íŠ¸...", "sentence_count": 3, "language": "en" }
```

**ì‘ë‹µ:**
```json
{ "summary": "ìš”ì•½ëœ í…ìŠ¤íŠ¸" }
```

---

## í”„ë¡œì íŠ¸ êµ¬ì¡°

```
prj/
â”œâ”€â”€ api.py              # FastAPI ë°±ì—”ë“œ (ê°ì„± ë¶„ì„, ìš”ì•½, ë‰´ìŠ¤ API)
â”œâ”€â”€ app.py              # Streamlit í”„ë¡ íŠ¸ì—”ë“œ
â”œâ”€â”€ requirements.txt    # íŒ¨í‚¤ì§€ ì˜ì¡´ì„±
â”œâ”€â”€ README.md           # í”„ë¡œì íŠ¸ ì„¤ëª…ì„œ
â””â”€â”€ tests/
    â”œâ”€â”€ __init__.py
    â”œâ”€â”€ test_core_logic.py      # í•µì‹¬ ë¡œì§ ë‹¨ìœ„ í…ŒìŠ¤íŠ¸ (61ê°œ)
    â””â”€â”€ test_api_endpoints.py   # API ì—”ë“œí¬ì¸íŠ¸ í†µí•© í…ŒìŠ¤íŠ¸ (23ê°œ)
```

## í…ŒìŠ¤íŠ¸ ì‹¤í–‰

```bash
python -m pytest tests/ -v
```

84ê°œ ì „ì²´ í…ŒìŠ¤íŠ¸ (ë‹¨ìœ„ 61 + í†µí•© 23)

---

## ì‚¬ìš© ê¸°ìˆ 

| ë¼ì´ë¸ŒëŸ¬ë¦¬ | ìš©ë„ |
|-----------|------|
| **FastAPI** | REST API ì„œë²„ |
| **Streamlit** | ì›¹ í”„ë¡ íŠ¸ì—”ë“œ |
| **TextBlob** | ì˜ì–´ ê°ì„± ë¶„ì„ (polarity) |
| **deep-translator** | Google ë²ˆì—­ (í•œêµ­ì–´â†’ì˜ì–´ ë“±) |
| **sumy** | LSA ê¸°ë°˜ í…ìŠ¤íŠ¸ ìš”ì•½ |
| **Plotly** | ì¸í„°ë™í‹°ë¸Œ ì°¨íŠ¸ (íŒŒì´, ë°” ì°¨íŠ¸) |
| **Pandas** | ë°ì´í„° í…Œì´ë¸”, CSV ë‚´ë³´ë‚´ê¸° |
| **NewsAPI** | ë‰´ìŠ¤ ê¸°ì‚¬ ê²€ìƒ‰ |

---

## ì‹¤í–‰ í™”ë©´

### API ì„œë²„ (Swagger UI)

![API ì„œë²„ ì‹¤í–‰ í™”ë©´](images/apirun.jpg)

### Streamlit ì•±

![Streamlit ì•± ì‹¤í–‰ í™”ë©´](images/app.jpg)
